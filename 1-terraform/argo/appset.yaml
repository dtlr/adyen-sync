{"apiVersion":"argoproj.io/v1alpha1","kind":"ApplicationSet","metadata":{"labels":{"app":"jdna-sync-test","env":"test"},"name":"jdna-sync-test","namespace":"argocd"},"spec":{"generators":[{"list":{"elements":[{"banner":"dtlr"},{"banner":"nk"},{"banner":"spc"}]}}],"goTemplate":true,"goTemplateOptions":["missingkey=error"],"template":{"metadata":{"labels":{"app":"jdna-sync-{{ .banner }}-test","env":"test"},"name":"jdna-sync-{{ .banner }}-test"},"spec":{"destination":{"name":"aks-northcentralus-c9d54b825de9","namespace":"jdna-sync"},"project":"jdna-sync","sources":[{"kustomize":{"commonLabels":{"app":"jdna-sync-{{ .banner }}-test","banner":"{{ .banner }}","env":"test"},"images":["ghcr.io/dtlr/jdna-sync:sha-4b72b1c"],"namespace":"jdna-sync","patches":[{"patch":"- op: replace\n  path: /metadata/name\n  value: jdna-sync-{{ .banner }}-test\n","target":{"kind":"Service","name":"svc"}},{"patch":"- op: replace\n  path: /spec/selector/app\n  value: jdna-sync-{{ .banner }}-test\n","target":{"kind":"Service","name":"svc"}},{"patch":"- op: replace\n  path: /metadata/name\n  value: jdna-sync-{{ .banner }}-test\n","target":{"kind":"Deployment","name":"appDeployment"}},{"patch":"- op: replace\n  path: /spec/selector/matchLabels/app\n  value: jdna-sync-{{ .banner }}-test\n","target":{"kind":"Deployment","name":"appDeployment"}},{"patch":"- op: replace\n  path: /spec/template/spec/containers/0/env/3/value\n  value: debug\n","target":{"kind":"Deployment","name":"appDeployment"}},{"patch":"- op: replace\n  path: /spec/template/spec/containers/0/env/5/name\n  value: '{{ upper .banner }}_DATABASE_URI'\n","target":{"kind":"Deployment","name":"appDeployment"}},{"patch":"- op: replace\n  path: /spec/rules/0/host\n  value: jdna-sync-{{ .banner }}.test.jdna.io\n","target":{"kind":"Ingress","name":"appIngress"}},{"patch":"- op: replace\n  path: /spec/tls/0/hosts/0\n  value: jdna-sync-{{ .banner }}.test.jdna.io\n","target":{"kind":"Ingress","name":"appIngress"}},{"patch":"- op: replace\n  path: /spec/tls/0/secretName\n  value: jdna-sync-{{ .banner }}-test-tls\n","target":{"kind":"Ingress","name":"appIngress"}},{"patch":"- op: replace\n  path: /metadata/name\n  value: sync-stores-{{ .banner }}-test\n","target":{"kind":"CronJob","name":"appSyncStoresCronJob"}},{"patch":"- op: replace\n  path: /spec/template/spec/containers/0/env/8/name\n  value: {{ upper .banner }}_DATABASE_URI\n","target":{"kind":"CronJob","name":"appSyncStoresCronJob"}},{"patch":"- op: replace\n  path: /spec/template/spec/containers/0/env/8/valueFrom/secretKeyRef/key\n  value: {{ upper .banner }}_DATABASE_URI\n","target":{"kind":"CronJob","name":"appSyncStoresCronJob"}},{"patch":"- op: replace\n  path: /metadata/name\n  value: sync-terminals-{{ .banner }}-test\n","target":{"kind":"CronJob","name":"appSyncTerminalsCronJob"}},{"patch":"- op: replace\n  path: /spec/template/spec/containers/0/env/8/name\n  value: {{ upper .banner }}_DATABASE_URI\n","target":{"kind":"CronJob","name":"appSyncTerminalsCronJob"}},{"patch":"- op: replace\n  path: /spec/template/spec/containers/0/env/8/valueFrom/secretKeyRef/key\n  value: {{ upper .banner }}_DATABASE_URI\n","target":{"kind":"CronJob","name":"appSyncTerminalsCronJob"}}]},"path":"argo-app","repoURL":"https://github.com/dtlr/jdna-sync.git","targetRevision":"qa"}],"syncPolicy":{"automated":{"prune":true,"selfHeal":true},"syncOptions":["CreateNamespace=true","PrunePropagationPolicy=foreground","PruneLast=true","RespectIgnoreDifferences=true"]}}}}}